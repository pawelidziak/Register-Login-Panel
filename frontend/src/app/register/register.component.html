<section class="register">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-6">

      <h2>Register</h2>

      <ngb-alert class="text-center" [ngClass]="{'danger': error, 'success': response}" *ngIf="response" [dismissible]="false">
        <p *ngIf="response">{{response}}</p>
        <p *ngIf="error">{{error}}</p>
      </ngb-alert>
      
      <form [(formGroup)]="registerForm" novalidate #f="ngForm" (ngSubmit)="f.form.valid && register()">

        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !name.valid }">
          <input type="text" class="form-control" formControlName="name" [(ngModel)]="user.name" required
                 placeholder="Name*"/>
          <ngb-alert type="danger" *ngIf="f.submitted && !name.valid" [dismissible]="false">
            Name is require
          </ngb-alert>
        </div>

        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !email.valid }">
          <input type="text" class="form-control" formControlName="email" [(ngModel)]="user.email" required
                 placeholder="Email*"/>
          <ngb-alert type="danger" *ngIf="f.submitted && !email.valid" [dismissible]="false">
            Wrong email. Example: pa.idziak@gmail.com
          </ngb-alert>
        </div>

        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
          <input type="password" class="form-control" formControlName="password" [(ngModel)]="user.password" required
                 placeholder="Password*"/>
          <ngb-alert type="danger" *ngIf="f.submitted && !password.valid" [dismissible]="false">
            Wrong password. Password requirements: 8-30 marks, small letter, big letter, digit and special character.
          </ngb-alert>
        </div>

        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !confirmPassword.valid }">
          <input type="password" class="form-control" formControlName="confirmPassword" required
                 placeholder="Confirm password*"/>
          <ngb-alert type="danger"
                     *ngIf="(f.submitted && !confirmPassword.valid) && (confirmPassword.value !== password.value)"
                     [dismissible]="false">
            Password mismatch
          </ngb-alert>
        </div>

        <div class="form-group text-center">
          <button [disabled]="loading" class="btn btn-primary">Register</button>
          <img *ngIf="loading"
               src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
          <a class="btn btn-link">Cancel</a>
          <!--<a [routerLink]="['/login']" class="btn btn-link">Cancel</a>-->

        </div>
      </form>

    </div>

  </div>

</section>
